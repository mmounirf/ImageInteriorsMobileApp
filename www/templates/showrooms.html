<ion-view view-title="Showrooms">
  <ion-content lazy-scroll>
    <div class="bar bar-header item-input-inset search-bar">
        <i class="icon ion-{{os}}-search placeholder-icon"></i>
        <input type="text" class="search-input" placeholder=" Search" ng-model="searchShowroom" />
        <button ng-show="searchProducts.length" class="button button-icon ion-{{os}}-close input-button" ng-click="searchProducts = ''">
    </div>

  <ion-refresher on-refresh="doRefresh()"></ion-refresher>
	<ion-list>
		<ion-item class="showroom-item" ng-repeat="showroom in showrooms | filter:searchShowroom" href="#/app/showrooms/{{showroom.id}}" track>
      <div
        class="showroom-img"
        image-lazy-background-image="true"
        image-lazy-src="{{showroom._embedded['wp:featuredmedia'][0].source_url}}"
        image-lazy-loader="{{os}}"
      >
      </div>
		</ion-item>
	</ion-list>

	<ion-infinite-scroll
	  ng-if="moreDataExists()"
    on-infinite="loadMore()"
    distance="1%"
    immediate-check="true">
  </ion-infinite-scroll>
  <p class="lastPageNote" ng-if=lastPage>Displaying {{showrooms.length}} showrooms</p>
  </ion-content>

</ion-view>
